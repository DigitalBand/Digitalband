<h1 ng-show="vm.cityId > 0"><small>{{vm.city.name}}</small></h1>
<fieldset ng-controller="ShopListController" ng-show="vm.cityId > 0">
    <legend>Магазины</legend>
    <div>
        <a class="btn btn-primary" ui-sref="shopNew({cityId: vm.cityId})"><i class="fa fa-plus"></i> Добавить склад</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th>Название</th>
                <th>Адрес</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="shop in vm.shops">
                <td><a href="" ng-click="vm.remove(shop.id)"><i class="fa fa-trash"></i></a></td>
                <td><a ui-sref="shopEdit({shopId: shop.id, cityId: vm.cityId})">{{shop.title}}</a></td>
                <td>{{shop.address}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</fieldset>

<fieldset>
    <legend>Основные данные</legend>
    <div class="col-lg-12" ng-controller="CityEditController">
        <form class="form-horizontal" name="cityForm">

            <div class="form-group">
                <label>Название</label>
                <input class="form-control" type="text" ng-model="vm.city.name" required />
            </div>
            <div class="form-group">
                <label>Телефон</label>
                <input class="form-control" type="text" ng-model="vm.city.phone" />
            </div>
            <div class="form-group">
                <label>Хост</label>
                <input class="form-control" type="text" ng-model="vm.city.domain" required />
            </div>
            <div class="form-group">
                <label>Префикс</label>
                <input class="form-control" type="text" ng-model="vm.city.prefix" required />
            </div>
            <div class="form-group">
                <label>Доставка</label>
                <textarea ckeditor="editorOptions" ng-model="vm.city.delivery" required></textarea>
                <div class="alert alert-danger" role="alert" ng-show="!vm.city.delivery">Поле обязательно для заполнения</div>
            </div>
            <div class="form-group">
                <label>Оплата</label>
                <textarea ckeditor="editorOptions" ng-model="vm.city.payment" required></textarea>
                <div class="alert alert-danger" role="alert" ng-show="!vm.city.payment">Поле обязательно для заполнения</div>
            </div>

            <div class="form-group">
                <button class="btn btn-primary" ng-click="vm.save()">Сохранить</button>
            </div>
        </form>
    </div>
</fieldset>
